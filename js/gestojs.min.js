var j=void 0,l=null,m=!1;window.d.z={S:function(a){return a.split(".").shift()},R:function(a){return 1<a.split(".").length?a.split(".").slice(1).join("."):""},M:function(){return!!("ontouchstart"in window)}};(function(a){a.c.A=function(){function a(b){for(var c=[],e=[],k,i,f=-1,g=0,n;g<b.length;g++){i=b[g].startTime;k=[];for(n=0;n<e.length;n++)i<e[n].k&&k.push(e[n]);e=k;e.length||(f++,c[f]={time:i,tracks:[]});c[f].h.push(b[g]);e.push(b[g])}return c}var c={};this.m=function(c,p){var e=/[a-z0-9]+\([^\)]*\)/gi,k=[],i,f,g,n=a(c),q,o,s,x,y,h;for(q in p)if(o=p[q].b,o.length===n.length){for(g=h=i=0;g<o.length;g++){s=o[g];y=0;x=m;if(s.match(e).length!==n[g].h.length){i=0;break}s=s.replace(e,function(a){var b=
a.match(/^([^\(]+)/)[1],a=a.match(/\(([^\)]*)/)[1].split(",");(b=n[g].h[y].m(b,a))||(x=!0);h++;y++;return b});if(x||!(f=eval(s))){i=0;break}i+=f}i&&k.push({name:q,points:i/h})}return k.length?(k.sort(function(a,b){return a.a>b.a?1:a.a<b.a?-1:0}),k):l};this.addListener=function(a,b){c[a]||(c[a]=[]);c[a].push({t:(new Date).getTime(),f:b})};this.removeListener=function(a,b){var e;if(b)for(e=0;e<c[a];e++)c[a][e].P===b&&c[a].splice(e,1);else delete c[a]}}})(window.d);var r=window.d;
r.c.p=function(a){var b=0,c=0;this.id=a;this.a=[];this.startTime=(new Date).getTime();this.r=this.speed=this.duration=this.k=l;this.length=0;this.N=this.offset=this.O=l;this.push=function(a){this.a.push(a);b+=a.x-this.a[0].x;c+=a.y-this.a[0].y;1<this.a.length&&(this.length+=a.q(this.a[this.a.length-2]))};this.end=function(){this.k||(this.k=(new Date).getTime(),this.duration=this.k-this.startTime,this.g=this.u(Math.max(0,this.a.length-3),this.a.length-1),this.w=this.u(0,Math.min(this.a.length-1,2)),
this.offset=this.K(),this.N=this.J(),this.speed=1E3*(this.length/this.duration),this.r=this.L())};this.K=function(){return{x:this.a[this.a.length-1].x-this.a[0].x,y:this.a[this.a.length-1].y-this.a[0].y}};this.J=function(){return{x:b/this.a.length,y:c/this.a.length}};this.u=function(a,b){a=a!==j?a:this.a.length-3;b=b!==j?b:this.a.length-1;return this.a[b].F(this.a[a])};this.L=function(){return this.a[this.a.length-1].q(this.a[Math.max(0,this.a.length-2)])/(this.a[this.a.length-1].time-this.a[Math.max(0,
this.a.length-2)].time)/1E3};this.m=function(a,b){return r.e[a].apply(this,b)}};window.d.event={B:"onGesture",i:"onTrackProgress",o:"onTrackStart",l:"onTrackComplete",n:function(a){this.timestamp=(new Date).getTime();this.type=a;this.h=this.I=this.v=l}};window.d.c.j=function(a,b){this.time=(new Date).getTime();this.x=a;this.y=b;this.Q=this.size=1;this.q=function(a){return(a.x-this.x)*(a.x-this.x)+(a.y-this.y)*(a.y-this.y)};this.F=function(a){return 180*(Math.atan2(a.y-this.y,a.x-this.x)/Math.PI)}};var t=window.d;
t.c.C=function(a){function b(a,b){var g=0,c;if(i[a]){c=new t.event.n(a);c.h=b.h;for(c.v=b.v;g<i[a].length;g++)i[a][g].method.call(this,c)}}function c(){f.sort(function(a,b){return a.startTime>b.startTime?1:a.startTime<b.startTime?-1:0});b(t.event.l,{tracks:f,originalEvent:l});f=[];g=[];n=0;o=l}function v(a){var e={},h;if(f.length){a.preventDefault();if(!q||!a.touches.length)o=setTimeout(c,k.H);if(q){for(;h<a.touches.length;h++)e[g[a.touches[h].identifier]]=!0;for(h=0;h<f.length;h++)e[g[f[h].identifier]]||(f[h].end(),
delete g[f[h].identifier]);b(t.event.i,{tracks:f,originalEvent:a})}else for(h=0;h<f.length;h++)f[h].end()}}function p(a){var c=0,h;if(f.length&&!o){a.preventDefault();if(q)for(;c<a.touches.length;c++)h=a.touches[c],f[g[h.identifier]]?f[g[h.identifier]].push(new t.c.j(h.pageX,h.pageY)):t.s("Fixme! Attemp to move unstarted touch !?");else f[f.length-1].push(new t.c.j(a.pageX,a.pageY));b(t.event.i,{tracks:f,originalEvent:a})}}function e(a){var c=0,h,e;a.preventDefault();o&&(clearTimeout(o),o=l);f.length||
(b(t.event.o,{originalEvent:a}),e=!0);if(q)for(;c<a.touches.length;c++)h=a.touches[c],g[h.identifier]===j&&(g[h.identifier]=n++,f[g[h.identifier]]=new t.c.p(g[h.identifier]),f[g[h.identifier]].push(new t.c.j(h.pageX,h.pageY)));else f.push(new t.c.p(f.length)),f[f.length-1].push(new t.c.j(a.pageX,a.pageY));e||b(t.event.i,{tracks:f,originalEvent:a})}var k=this,i={},f=[],g={},n=0,q=t.z.M(),o;this.H=120;this.addListener=function(a,b){i[a]||(i[a]=[]);i[a].push({method:b})};this.removeListener=function(a,
b){var g;if(b)for(g=0;g<i[a];g++)i[a][g].method===b&&i[a].splice(g,1);else delete i[a]};try{q?(a.addEventListener("touchstart",e,m),window.addEventListener("touchmove",p,m),window.addEventListener("touchend",v,m)):(a.addEventListener("mousedown",e,m),window.addEventListener("mousemove",p,m),window.addEventListener("mouseup",v,m))}catch(s){t.s(s.toString(),s)}};function u(a,b){function c(a){var b;if(e[a.type])for(b=0;b<e[a.type].length;b++)e[a.type][b].call(v,a)}var v=this,p={},e={},k,i;this.enabled=!0;this.D=function(a){u.log("Listening gesture ",a);p[a]={priority:0,gesture:u.b[a]}};this.T=function(a){delete p[a]};this.addEventListener=function(a,b){e[a]||(e[a]=[]);e[a].push(b)};this.removeEventListener=function(a,b){var c;if(e[a]){for(c=0;c<e[a].length;c++)e[a][c]!==b&&j.push(e[a][c]);e[a]=j}};var f;k=new u.c.C(a||window);k.addListener(u.event.o,c);k.addListener(u.event.i,
c);k.addListener(u.event.l,c);k.addListener(u.event.l,function(a){var b;if(v.enabled&&(a=i.m(a.h,p))&&a.length)b=new u.event.n(u.event.B),b.I=a,c(b)});i=new u.c.A;if(b)for(f in u.b)v.D(f)}u.c={};u.z={};u.event={};u.e={};u.b={};u.debug=!0;u.s=function(a){var b=["[GestoJS]"],c=0;if(u.debug&&"function"===typeof window.console.error){for(;c<arguments.length;c++)b.push(arguments[c]);window.console.error.call(window.console,b.join(" "))}};
u.log=function(){var a=["[GestoJS]"],b=0;if(u.debug&&"function"===typeof window.console.log){for(;b<arguments.length;b++)a.push(arguments[b]);window.console.log.call(window.console,a.join(" "))}};u.warn=function(a){var b=["[GestoJS]"],c=0;if(u.debug&&"function"===typeof window.console.warn){for(;c<arguments.length;c++)b.push(arguments[c]);window.console.warn.call(window.console,b.join(" "))}};window.d=u;var w=window.d;w.e.tap=function(a,b){a=parseInt(a,10)||0;b=parseInt(b,10)||200;return 5>this.length&&this.duration>=a&&this.duration<=b?1:0};w.e.longTap=function(a){a=parseInt(a,10)||800;return 5>this.length&&this.duration>=a?1:0};window.d.e.curve=function(a,b){var c,a="undefined"!==typeof a?parseFloat(a):l,b=parseFloat(b)||30;return 5<Math.abs(this.w-this.g)&&(a===j||(c=this.g-this.w)<=a+b&&c>=a-b)?1-Math.abs(c-a)/(2*b):0};var z=window.d;z.e.swipe=function(a,b){a=parseFloat(a);b=parseFloat(b)||30;return!z.e.G.call(this)&&10<this.length&&this.g>=a-b&&this.g<=a+b?1-Math.abs(a-this.g)/(2*b):0};z.e["throw"]=function(a,b,c){a=parseFloat(a);b=parseFloat(b);c=parseFloat(c)||5;return!z.e.G.call(this)&&10<this.length&&this.g>=a-b&&this.g<=a+b&&this.r>=c?1-Math.abs(a-this.g)/(2*b):0};var A=window.d;A.b.tap=["tap()"];A.b.twoTap=["tap()","tap()"];A.b.longTap=["longTap()"];A.b.twoTapLong=["tap()","longTap()"];A.b.doubleTap=["tap() + tap()"];A.b.doubleLongTap=["longTap() + longTap()"];A.b.twoDoubleTap=["tap() + tap()","tap() + tap()"];A.b.swipeLeft=["swipe(0)"];A.b.swipeRight=["swipe(180)"];A.b.swipeUp=["swipe(90)"];A.b.swipeDown=["swipe(-90)"];A.b.doubleSwipeLeft=["swipe(0) + swipe(0)"];A.b.doubleSwipeRight=["swipe(180) + swipe(180)"];A.b.doubleSwipeUp=["swipe(90) + swipe(90)"];
A.b.doubleSwipeDown=["swipe(-90) + swipe(-90)"];
