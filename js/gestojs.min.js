var k=null,l=!1;window.d.w={R:function(a){return a.split(".").shift()},Q:function(a){return 1<a.split(".").length?a.split(".").slice(1).join("."):""},L:function(){return!!("ontouchstart"in window)}};(function(a){a.c.z=function(){function a(b){for(var c=[],e=[],i,j,f=-1,h=0,n;h<b.length;h++){j=b[h].startTime;i=[];for(n=0;n<e.length;n++)j<e[n].j&&i.push(e[n]);e=i;e.length||(f++,c[f]={time:j,tracks:[]});c[f].e.push(b[h]);e.push(b[h])}return c}var b={};this.l=function(b,p){var e=/[a-z0-9]+\([^\)]*\)/gi,i=[],j,f,h,n=a(b),q,o,s,v,w,g;for(q in p)if(o=p[q].b,o.length===n.length){for(h=g=j=0;h<o.length;h++){s=o[h];w=0;v=l;if(s.match(e).length!==n[h].e.length){j=0;break}s=s.replace(e,function(b){var a=
b.match(/^([^\(]+)/)[1],b=b.match(/\(([^\)]*)/)[1].split(",");(a=n[h].e[w].l(a,b))||(v=!0);g++;w++;return a});if(v||!(f=eval(s))){j=0;break}j+=f}j&&i.push({name:q,points:j/g})}return i.length?(i.sort(function(b,a){return b.a>a.a?1:b.a<a.a?-1:0}),i):k};this.addListener=function(a,c){b[a]||(b[a]=[]);b[a].push({t:(new Date).getTime(),f:c})};this.removeListener=function(a,c){var e;if(c)for(e=0;e<b[a];e++)b[a][e].O===c&&b[a].splice(e,1);else delete b[a]}}})(window.d);var m=window.d;
m.c.q=function(a){var c=0,b=0;this.id=a;this.a=[];this.startTime=(new Date).getTime();this.F=this.speed=this.duration=this.j=k;this.length=0;this.M=this.offset=this.n=this.N=this.rotation=k;this.push=function(a){this.a.push(a);c+=a.x-this.a[0].x;b+=a.y-this.a[0].y;1<this.a.length&&(this.length+=a.r(this.a[this.a.length-2]))};this.end=function(){this.j||(this.j=(new Date).getTime(),this.duration=this.j-this.startTime,this.n=this.u(Math.max(0,this.a.length-4),this.a.length-1),this.N=this.u(0,Math.min(this.a.length-
1,3)),this.offset=this.I(),this.M=this.H(),this.speed=1E3*(this.length/this.duration),this.F=this.K(),this.rotation=this.J())};this.I=function(){return{x:this.a[this.a.length-1].x-this.a[0].x,y:this.a[this.a.length-1].y-this.a[0].y}};this.H=function(){return{x:c/this.a.length,y:b/this.a.length}};this.u=function(a,b){a=void 0!==a?a:this.a.length-3;b=void 0!==b?b:this.a.length-1;return this.a[b].m(this.a[a])};this.K=function(){return this.a[this.a.length-1].r(this.a[Math.max(0,this.a.length-2)])/(this.a[this.a.length-
1].time-this.a[Math.max(0,this.a.length-2)].time)/1E3};this.J=function(){var a,b=0,c,i;if(2>=this.a.length)return 0;c=this.a[1].m(this.a[0]);for(a=2;a<this.a.length;a++)i=this.a[a].m(this.a[a-1]),0>i&&0<c&&(i+=360),0<i&&0>c&&(i-=360),b+=i-c,c=i;return b};this.l=function(a,b){return m.g[a].apply(this,b)}};window.d.event={A:"onGesture",h:"onTrackProgress",p:"onTrackStart",k:"onTrackComplete",o:function(a){this.timestamp=(new Date).getTime();this.type=a;this.e=this.G=this.v=k}};window.d.c.i=function(a,c){this.time=(new Date).getTime();this.x=a;this.y=c;this.P=this.size=1;this.r=function(a){return Math.sqrt((a.x-this.x)*(a.x-this.x)+(a.y-this.y)*(a.y-this.y))};this.m=function(a){return 180*(Math.atan2(a.y-this.y,a.x-this.x)/Math.PI)}};var r=window.d;
r.c.B=function(a){function c(a,b){var c=0,h;if(j[a]){h=new r.event.o(a);h.e=b.e;for(h.v=b.v;c<j[a].length;c++)j[a][c].method.call(this,h)}}function b(){f.sort(function(a,b){return a.startTime>b.startTime?1:a.startTime<b.startTime?-1:0});c(r.event.k,{tracks:f,originalEvent:k});f=[];h={};n=0;o=k}function u(a){var e={},g=0;if(f.length){a.preventDefault();if(!q||!a.touches.length)o=setTimeout(b,i.D);if(q){for(;g<a.touches.length;g++)e[a.touches[g].identifier]=!0;for(g=0;g<f.length;g++)e[h[f[g].id]]||(f[g].end(),
delete h[f[g].id]);c(r.event.h,{tracks:f,originalEvent:a})}else for(g=0;g<f.length;g++)f[g].end()}}function p(a){var b=0,g;if(f.length&&!o){a.preventDefault();if(q)for(;b<a.touches.length;b++)g=a.touches[b],f[h[g.identifier]]?f[h[g.identifier]].push(new r.c.i(g.pageX,g.pageY)):r.s("Fixme! Attemp to move unstarted touch !?");else f[f.length-1].push(new r.c.i(a.pageX,a.pageY));c(r.event.h,{tracks:f,originalEvent:a})}}function e(a){var b=0,g,e;a.preventDefault();o&&(clearTimeout(o),o=k);f.length||(c(r.event.p,
{originalEvent:a}),e=!0);if(q)for(;b<a.touches.length;b++)g=a.touches[b],void 0===h[g.identifier]&&(h[g.identifier]=n++,f[h[g.identifier]]=new r.c.q(g.identifier),f[h[g.identifier]].push(new r.c.i(g.pageX,g.pageY)));else f.push(new r.c.q(f.length)),f[f.length-1].push(new r.c.i(a.pageX,a.pageY));e||c(r.event.h,{tracks:f,originalEvent:a})}var i=this,j={},f=[],h={},n=0,q=r.w.L(),o;this.D=120;this.addListener=function(a,b){j[a]||(j[a]=[]);j[a].push({method:b})};this.removeListener=function(a,b){var c;
if(b)for(c=0;c<j[a];c++)j[a][c].method===b&&j[a].splice(c,1);else delete j[a]};try{q?(a.addEventListener("touchstart",e,l),window.addEventListener("touchmove",p,l),window.addEventListener("touchend",u,l)):(a.addEventListener("mousedown",e,l),window.addEventListener("mousemove",p,l),window.addEventListener("mouseup",u,l))}catch(s){r.s(s.toString(),s)}};function t(a,c){function b(a){var b;if(e[a.type])for(b=0;b<e[a.type].length;b++)e[a.type][b].call(u,a)}var u=this,p={},e={},i,j;this.enabled=!0;this.C=function(a){t.log("Listening gesture ",a);p[a]={priority:0,gesture:t.b[a]}};this.S=function(a){delete p[a]};this.addEventListener=function(a,b){e[a]||(e[a]=[]);e[a].push(b)};this.removeEventListener=function(a,b){var c;if(e[a]){for(c=0;c<e[a].length;c++)e[a][c]!==b&&(void 0).push(e[a][c]);e[a]=void 0}};var f;i=new t.c.B(a||window);i.addListener(t.event.p,
b);i.addListener(t.event.h,b);i.addListener(t.event.k,b);i.addListener(t.event.k,function(a){var c;if(u.enabled&&(a=j.l(a.e,p))&&a.length)c=new t.event.o(t.event.A),c.G=a,b(c)});j=new t.c.z;if(c)for(f in t.b)u.C(f)}t.c={};t.w={};t.event={};t.g={};t.b={};t.debug=!0;t.s=function(a){var c=["[GestoJS]"],b=0;if(t.debug&&"function"===typeof window.console.error){for(;b<arguments.length;b++)c.push(arguments[b]);window.console.error.call(window.console,c.join(" "))}};
t.log=function(){var a=["[GestoJS]"],c=0;if(t.debug&&"function"===typeof window.console.log){for(;c<arguments.length;c++)a.push(arguments[c]);window.console.log.call(window.console,a.join(" "))}};t.warn=function(a){var c=["[GestoJS]"],b=0;if(t.debug&&"function"===typeof window.console.warn){for(;b<arguments.length;b++)c.push(arguments[b]);window.console.warn.call(window.console,c.join(" "))}};window.d=t;var x=window.d;x.g.tap=function(a,c){a=parseInt(a,10)||0;c=parseInt(c,10)||400;return 5>this.length&&this.duration>=a&&this.duration<=c?1:0};x.g.longTap=function(a){a=parseInt(a,10)||400;return 5>this.length&&this.duration>=a?1:0};window.d.g.curve=function(a,c){a="undefined"!==typeof a?parseFloat(a):k;c=parseFloat(c)||30;return this.rotation>=a-c&&this.rotation<=a+c&&20<this.length?1-Math.abs(a-this.rotation)/(2*c):0};window.d.g.swipe=function(a,c){var b=this.n,a=parseFloat(a),c=parseFloat(c)||30;-135>b&&(b+=360);return 30>Math.abs(this.rotation)&&100<this.length&&b>=a-c&&b<=a+c?1-Math.abs(a-this.n)/(2*c):0};var y=window.d;y.b.tap=["tap()"];y.b.twoTap=["tap()","tap()"];y.b.longTap=["longTap()"];y.b.twoTapLong=["tap()","longTap()"];y.b.doubleTap=["tap() && tap()"];y.b.doubleLongTap=["longTap() + longTap()"];y.b.twoDoubleTap=["tap() && tap()","tap() && tap()"];y.b.swipeLeft=["swipe(0)"];y.b.swipeRight=["swipe(180)"];y.b.swipeUp=["swipe(90)"];y.b.swipeDown=["swipe(-90)"];y.b.doubleSwipeLeft=["swipe(0) && swipe(0)"];y.b.doubleSwipeRight=["swipe(180) && swipe(180)"];y.b.doubleSwipeUp=["swipe(90) && swipe(90)"];
y.b.doubleSwipeDown=["swipe(-90) && swipe(-90)"];y.b.circle=["curve(360,40)"];
