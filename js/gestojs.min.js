var i=void 0,n=null,p=!1;window.d.o={W:function(){return-1<navigator.userAgent.indexOf("Chrome")&&!(-1<navigator.userAgent.indexOf("iOS")||-1<navigator.userAgent.indexOf("Android"))?p:"ontouchstart"in window||window.Y&&document instanceof DocumentTouch},A:function(c){return"function"===typeof c}};(function(c){c.b.J=function(){function a(a){for(var b=[],c=[],l,j,e=-1,k=0,g;k<a.length;k++){j=a[k].startTime;l=[];for(g=0;g<c.length;g++)j<c[g].q&&l.push(c[g]);c=l;c.length||(e++,b[e]={time:j,tracks:[]});b[e].g.push(a[k]);c.push(a[k])}return b}var b={};this.w=function(b,m){var h,l=/[a-z0-9]+\([^\)]*\)/gi,j=[],e=a(b),k,g,q,s,u,t,C,o,v,D=m.U(),z,H;z=0;for(H=D.length;z<H;z++)if(u=D[z].z,u.length===e.length){for(k=g=0;k<u.length;k++)if(t=u[k],t=t.split(/&&/g),q=t.length,o=e[k].g.length,o!==q)g=0;else{for(v=
q=0;v<o;v++){C=0;h={tracks:b,steps:e,step:e[k],track:e[k].g[v]};t[v]=t[v].replace(l,function(a){var b,g;try{b=a.match(/^([^\(]+)/)[1],g=a.match(/\(([^\)]*)/)[1].split(",")}catch(t){return c.r('Parsing error in "'+a+'": '+t.toString()),0}if(!c.e[b])return c.r('Undefined analyzer "'+b+'"'),0;a=e[k].g[v].w(b,[h].concat(g));C++;return a});if(!(s=eval(t[v]))){q=0;break}q+=s/C}if(!q){g=0;break}g+=q/o}g&&j.push({name:D[z].name,points:g/u.length})}return j.length?(j.sort(function(a,b){return a.a>b.a?1:a.a<
b.a?-1:0}),j):n};this.addListener=function(a,c){b[a]||(b[a]=[]);b[a].push({t:(new Date).getTime(),f:c})};this.removeListener=function(a,c){var h;if(c)for(h=0;h<b[a];h++)b[a][h].Z===c&&b[a].splice(h,1);else delete b[a]}}})(window.d);window.d.b.l=function(c,a,b){this.name=c;this.i=b||0;this.z=[];"string"===typeof a&&this.z.push(a);a instanceof Array&&(this.z=a)};var r=window.d;
r.b.D=function(c){var a=this,b=0,f=0,m=n,h=n,l=0,j=Math.PI/2,e=2*Math.PI;this.id=c;this.a=[];this.startTime=(new Date).getTime();this.q=n;this.k=this.X=this.v=this.rotation=this.length=this.Q=this.speed=this.duration=0;this.B=this.offset=n;this.H=0;this.push=function(c){this.a.push(c);var g,c=1<a.a.length?a.a[Math.max(0,a.a.length-2)]:n;g=a.a[a.a.length-1];a.speed=1E3*(a.length/a.duration);a.offset=a.T();b+=g.x;f+=g.y;a.B=a.S();c&&(a.length+=g.j(c),g=g.n(c),h>j&&g<-j&&l++,h<-j&&g>j&&l--,c=g+l*e,m!==
n&&(a.rotation+=c-m,a.v+=Math.abs(c-m)),m=c,h=g,a.H=Math.floor(a.rotation/e)+(0>a.rotation?1:0),a.k=a.G(Math.max(0,a.a.length-4),a.a.length-1),a.X=a.G(0,Math.min(a.a.length-1,3)),a.Q=a.V())};this.end=function(){this.q||(this.q=(new Date).getTime(),this.duration=this.q-this.startTime)};this.T=function(){return new r.b.h(this.a[this.a.length-1].x-this.a[0].x,this.a[this.a.length-1].y-this.a[0].y)};this.S=function(){return new r.b.h(b/this.a.length,f/this.a.length)};this.G=function(a,b){a=a!==i?a:this.a.length-
3;b=b!==i?b:this.a.length-1;return this.a[b].n(this.a[a])};this.V=function(){return this.a[this.a.length-1].j(this.a[Math.max(0,this.a.length-2)])/(this.a[this.a.length-1].time-this.a[Math.max(0,this.a.length-2)].time)/1E3};this.w=function(a,b){return r.e[a].apply(this,b)}};window.d.event={L:"onGesture",M:"onProgress",m:"onTrackProgress",C:"onTrackStart",p:"onTrackComplete",s:function(c){this.timestamp=(new Date).getTime();this.type=c;this.e=this.g=this.R=this.I=n}};var w=window.d;w.b.h=function(c,a,b,f){this.time=(new Date).getTime();this.x=c;this.y=a;this.size=b||1;this.$=f||1;this.j=function(a){return Math.sqrt((a.x-this.x)*(a.x-this.x)+(a.y-this.y)*(a.y-this.y))};this.n=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};this.F=function(){return(new w.b.h(0,0)).n(this)};this.aa=function(){return new w.b.h(-this.x,-this.y,b,f)}};var x=window.d;
x.b.N=function(c){function a(a,b){var c=0,k;if(j[a]){k=new x.event.s(a);k.g=b.g;for(k.I=b.I;c<j[a].length;c++)j[a][c].method.call(this,k)}}function b(){e.sort(function(a,b){return a.startTime>b.startTime?1:a.startTime<b.startTime?-1:0});a(x.event.p,{tracks:e,originalEvent:n});e=[];k={};g=0;s=n}function f(c){var g={},o=0;if(e.length){c.preventDefault();if(!q||!c.touches.length)s=setTimeout(b,l.P);if(q){for(;o<c.touches.length;o++)g[c.touches[o].identifier]=!0;for(o=0;o<e.length;o++)g[k[e[o].id]]||(e[o].end(),
delete k[e[o].id]);a(x.event.m,{tracks:e,originalEvent:c})}else for(o=0;o<e.length;o++)e[o].end()}}function m(b){var c=0,g;if(e.length&&!s){b.preventDefault();if(q)for(;c<b.touches.length;c++)g=b.touches[c],e[k[g.identifier]]?e[k[g.identifier]].push(new x.b.h(g.pageX,g.pageY)):x.r("Fixme! Attemp to move unstarted touch !?");else e[e.length-1].push(new x.b.h(b.pageX,b.pageY));a(x.event.m,{tracks:e,originalEvent:b})}}function h(b){var c=0,f,h;b.preventDefault();s&&(clearTimeout(s),s=n);e.length||(a(x.event.C,
{originalEvent:b}),h=!0);if(q)for(;c<b.touches.length;c++)f=b.touches[c],k[f.identifier]===i&&(k[f.identifier]=g++,e[k[f.identifier]]=new x.b.D(f.identifier),e[k[f.identifier]].push(new x.b.h(f.pageX,f.pageY)));else e.push(new x.b.D(e.length)),e[e.length-1].push(new x.b.h(b.pageX,b.pageY));h||a(x.event.m,{tracks:e,originalEvent:b})}var l=this,j={},e=[],k={},g=0,q=x.o.W(),s;this.P=120;this.addListener=function(a,b){j[a]||(j[a]=[]);j[a].push({method:b})};this.removeListener=function(a,b){var c;if(b)for(c=
0;c<j[a];c++)j[a][c].method===b&&j[a].splice(c,1);else delete j[a]};try{q?(c.addEventListener("touchstart",h,p),window.addEventListener("touchmove",m,p),window.addEventListener("touchend",f,p)):(c.addEventListener("mousedown",h,p),window.addEventListener("mousemove",m,p),window.addEventListener("mouseup",f,p))}catch(u){x.r(u.toString(),u)}};var y=window.d;function A(){this.list={}}A.prototype.add=function(c,a){var b,f;c instanceof y.b.l&&(c.i=a||c.i||0,this.list[c.name]=c);"string"===typeof c&&(c=c.split(","));if(c instanceof Array){b=0;for(f=c.length;b<f;b++)c[b]instanceof y.b.l?(c[b].i=a||c[b].i||0,this.list[c[b].name]=c[b]):"string"===typeof c[b]&&y.c[c[b]]?this.list[c[b]]=new y.b.l(c[b],y.c[c],a):this.list["gesture"+(b+1)]=new y.b.l("gesture"+(b+1),c[b].toString(),a)}};A.prototype.remove=function(c){delete this.list[c]};
A.prototype.U=function(){var c=[],a;for(a in this.list)c.push(this.list[a]);c.sort(function(a,c){return a.i>c.i?1:c.i>a.i?-1:0});return c};y.b.K=A;function B(c,a){function b(a){var b;if(h[a.type])for(b=0;b<h[a.type].length;b++)h[a.type][b].call(f,a)}var f=this,m=new B.b.K,h={},l,j;this.enabled=!0;this.O=function(a){B.log("Listening gesture ",a);m.add(new B.b.l(a,B.c[a]),i)};this.ba=function(a){m.remove(a)};this.addEventListener=function(a,b){h[a]||(h[a]=[]);h[a].push(b)};this.removeEventListener=function(a,b){var c;if(h[a]){for(c=0;c<h[a].length;c++)h[a][c]!==b&&i.push(h[a][c]);h[a]=i}};var e;l=new B.b.N(c||window);l.addListener(B.event.C,b);
l.addListener(B.event.p,b);l.addListener(B.event.m,b);l.addListener(B.event.p,b);l.addListener(B.event.m,function(a){var c=new B.event.s(B.event.M);c.g=a.g;c.e=j;b(c)});l.addListener(B.event.p,function(a){var c;if(f.enabled&&(a=j.w(a.g,m))&&a.length)c=new B.event.s(B.event.L),c.R=a,b(c)});j=new B.b.J;if(a)for(e in B.c)f.O(e)}B.b={};B.o={};B.event={};B.e={};B.c={};B.u="GestoJS";B.debug=1;
B.r=function(c){var a=["["+B.u+"]"],b=0;if(B.debug&&B.o.A(window.console.error)){for(;b<arguments.length;b++)a.push(arguments[b]);window.console.error.call(window.console,a.join(" "))}};B.log=function(){var c=["["+B.u+"]"],a=0;if(B.debug&&B.o.A(window.console.log)){for(;a<arguments.length;a++)c.push(arguments[a]);window.console.log.call(window.console,c.join(" "))}};
B.warn=function(c){var a=["["+B.u+"]"],b=0;if(B.debug&&typeof B.o.A(window.console)){for(;b<arguments.length;b++)a.push(arguments[b]);window.console.warn.call(window.console,a.join(" "))}};window.d=B;var E=window.d;E.e.press=function(){return 1};E.e.tap=function(c,a,b){a=parseInt(a,10)||0;b=parseInt(b,10)||400;return 5>this.length&&this.duration>=a&&this.duration<b?1:0};E.e.longTap=function(c,a){a=parseInt(a,10)||400;return 5>this.length&&this.duration>=a?1:0};window.d.e.pinch=function(c,a,b){var f,m,h,l,j;if(2!==c.step.g.length)return 0;b=parseFloat(b)/180*Math.PI||Math.PI/4;a=parseInt(a,10);f=c.step.g[this===c.step.g[0]?1:0];c=this.a[0].n(f.a[0]);m=this.a[this.a.length-1].n(f.a[f.a.length-1]);h=this.a[0].j(f.a[0]);l=this.a[this.a.length-1].j(f.a[f.a.length-1]);j=this.offset.F();f=f.offset.F();return Math.abs(Math.sin(j)+Math.sin(f))<Math.PI/4&&Math.abs(Math.cos(j)+Math.cos(f))<Math.PI/4&&h*a>l*a&&Math.abs(c-m)<=b?1:0};var F=window.d;F.e.arc=function(c,a,b){a=parseFloat(a)/180*Math.PI;b=parseFloat(b)/180*Math.PI||Math.PI/6;return this.rotation>=a-b&&this.rotation<=a+b&&20<this.length?1-Math.abs(a-this.rotation)/(2*b):0};F.e.circle=function(c,a){var b,f,m=0,h=Number.MAX_VALUE,a=a||0.8;b=0;for(f=this.a.length;b<f;b++)m=Math.max(m,this.a[b].j(this.B)),h=Math.min(h,this.a[b].j(this.B));return Math.max(0,a-(m-h)/m)};F.e.loop=function(c){return Math.abs(this.H)===(c||1)?1:0};window.d.e.line=function(c,a,b){a=parseFloat(a)/180*Math.PI;b=parseFloat(b)/180*Math.PI||Math.PI/6;return this.v<Math.PI/2&&5<this.length&&(this.k>=a-b&&this.k<=a+b||this.k+2*Math.PI>=a-b&&this.k+2*Math.PI<=a+b)?1-Math.abs(a-this.k)/(2*b):0};var G=window.d;G.c.tap=["tap()"];G.c.twoTap=["tap()","tap()"];G.c.longTap=["longTap()"];G.c.twoTapLong=["tap()","longTap()"];G.c.doubleTap=["tap() && tap()"];G.c.doubleLongTap=["longTap() && longTap()"];G.c.twoDoubleTap=["tap() && tap()","tap() && tap()"];G.c.swipeLeft=["line(0)"];G.c.swipeRight=["line(180)"];G.c.swipeUp=["line(90)"];G.c.swipeDown=["line(-90)"];G.c.doubleSwipeLeft=["line(0) && line(0)"];G.c.doubleSwipeRight=["line(180) && line(180)"];G.c.doubleSwipeUp=["line(90) && line(90)"];
G.c.doubleSwipeDown=["line(-90) && line(-90)"];G.c.zoomIn=["pinch(-1) && pinch(-1)"];G.c.zoomOut=["pinch(1) && pinch(1)"];G.c.circle=["arc(400,90) * circle() || arc(-400,90) * circle()"];G.c.circleRight=["arc(400,90) * circle()"];G.c.circleLeft=["arc(-400,90) * circle()"];GestoJS.debug=0;
